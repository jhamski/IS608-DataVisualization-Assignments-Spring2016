<html>
  <head>
    <style>
      body {
        background-color: lightblue;
      }
    </style>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>

    <script type="text/javascript">


      // Load the Visualization API.
      google.charts.load('current', {'packages':['corechart', 'annotationchart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawSheetName);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.

      function drawSheetName() {

      var query = new google.visualization.Query(
          'https://docs.google.com/spreadsheets/d/1f5WQtcY4qnrXSSzV-_2f_HQlIkMbqm2KNK9Kf70lriI/edit?usp=sharing');


      query.send(handleDataQueryResponse);
      }

    function handleDataQueryResponse(response) {
      if (response.isError()) {
        alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
        return;
      }

      var data = response.getDataTable();
      var chart = new google.visualization.AnnotationChart(document.getElementById('chart_div'));

      var options = {
          displayAnnotations: true,
          allowHtml: true
        };


      chart.draw(data, options, { height: 400 });
      }

    </script>

    <script type="text/javascript">
    
       var sampleSVG = d3.select("#viz")
        .append("svg")
        .attr("width", 100)
        .attr("height", 100);    

    sampleSVG.append("circle")
        .style("stroke", "gray")
        .style("fill", "white")
        .attr("r", 40)
        .attr("cx", 50)
        .attr("cy", 50)
        .on("mouseover", function(){d3.select(this).style("fill", "black");})
        .on("mouseout", function(){d3.select(this).style("fill", "white");});  
    </script>

  </head>
    <body>
      <h1 align="center">Unemployement and Income Expectations by Month</h1>
      <h2 align="center">June 2013 to May 2015</h2>
      <p>Sources: Income expectations come from the Federal Reserve Bank of New York Survey of Consumer Expectations Microdata, 2016. This survey is the average of respondent's answers to the question "What do you expect the change in your household income to be in 12 months?". Unemployement data are from the U.S. Bureau of Labor Statistics.</p>

      <h3>Timeseries (Google Charts)</h3> 

      <div id="chart_div" style="width:1000; height:300"></div>

      <h3>Other Chart (D3)</h3> 

      <div id="viz" style="width:1000; height:300"></div>


    </body>
</html>